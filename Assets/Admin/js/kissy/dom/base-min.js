/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 14 15:39
*/
KISSY.add("dom/base/api",[],function(h){var m=h.Env.host||{},n=m.document,q=h.UA,b={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},g={isCustomDomain:function(b){var b=b||m,b=g.get(b),j=b.document.domain,b=b.location.hostname;return j!==b&&j!=="["+b+"]"},getEmptyIframeSrc:function(b){b=b||m;b=g.get(b);return q.ie&&g.isCustomDomain(b)?
"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+b.document.domain+'";document.close();')+"}())":""},NodeType:b,getWindow:function(l){if(!l)return m;l=g.get(l);if(h.isWindow(l))return l;var j=l;j.nodeType!==b.DOCUMENT_NODE&&(j=l.ownerDocument);return j.defaultView||j.parentWindow},getDocument:function(l){if(!l)return n;l=g.get(l);return h.isWindow(l)?l.document:l.nodeType===b.DOCUMENT_NODE?l:l.ownerDocument},isDomNodeList:function(b){return b&&!b.nodeType&&b.item&&
!b.setTimeout},nodeName:function(b){var j=g.get(b),b=j.nodeName.toLowerCase();q.ie&&(j=j.scopeName)&&"HTML"!==j&&(b=j.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};h.mix(g,b);return g});
KISSY.add("dom/base/attr",["./api"],function(h,m){function n(b){return null==b?"":b+""}function q(b,c){var c=k[c]||c,a=o[c];return a&&a.get?a.get(b,c):b[c]}var b=m("./api"),g=h.Env.host.document,l=b.NodeType,g=g&&g.documentElement,j=b.nodeName,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,f=/:|^on/,c=/\r/g,e={},t={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(c){var b=c.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):a.test(c.nodeName)||i.test(c.nodeName)&&c.href?0:void 0}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x=
{get:function(c,a){return b.prop(c,a)?a.toLowerCase():void 0},set:function(c,a,e){!1===a?b.removeAttr(c,e):(a=k[e]||e,a in c&&(c[a]=!0),c.setAttribute(e,e.toLowerCase()));return e}},o={},s={},w={select:{get:function(c){var a=c.selectedIndex,e=c.options,f;if(0>a)return null;if("select-one"===""+c.type)return b.val(e[a]);c=[];a=0;for(f=e.length;a<f;++a)e[a].selected&&c.push(b.val(e[a]));return c},set:function(c,a){var e=h.makeArray(a);h.each(c.options,function(c){c.selected=h.inArray(b.val(c),e)});
e.length||(c.selectedIndex=-1);return e}}};h.each(["radio","checkbox"],function(c){w[c]={get:function(c){return null===c.getAttribute("value")?"on":c.value},set:function(c,a){if(h.isArray(a))return c.checked=h.inArray(b.val(c),a),1}}});v.style={get:function(c){return c.style.cssText}};h.mix(b,{_valHooks:w,_propFix:k,_attrHooks:v,_propHooks:o,_attrNodeHook:s,_attrFix:e,prop:function(c,a,e){var f=b.query(c),j,d;if(h.isPlainObject(a))h.each(a,function(p,c){b.prop(f,c,p)});else if(a=k[a]||a,d=o[a],void 0!==
e)for(c=f.length-1;0<=c;c--)j=f[c],d&&d.set?d.set(j,e,a):j[a]=e;else if(f.length)return q(f[0],a)},hasProp:function(c,a){var e=b.query(c),f,k=e.length,d;for(f=0;f<k;f++)if(d=e[f],void 0!==q(d,a))return!0;return!1},removeProp:function(c,a){var a=k[a]||a,e=b.query(c),f,d;for(f=e.length-1;0<=f;f--){d=e[f];try{d[a]=void 0,delete d[a]}catch(j){}}},attr:function(c,a,k,g){var i=b.query(c),o=i[0];if(h.isPlainObject(a)){var g=k,p;for(p in a)b.attr(i,p,a[p],g)}else{if(g&&t[a])return b[a](c,k);a=a.toLowerCase();
if(g&&t[a])return b[a](c,k);a=e[a]||a;c=d.test(a)?x:f.test(a)?s:v[a];if(void 0===k){if(o&&o.nodeType===l.ELEMENT_NODE){"form"===j(o)&&(c=s);if(c&&c.get)return c.get(o,a);k=o.getAttribute(a);return""===k&&(a=o.getAttributeNode(a),!a||!a.specified)?void 0:null===k?void 0:k}}else for(g=i.length-1;0<=g;g--)if((o=i[g])&&o.nodeType===l.ELEMENT_NODE)"form"===j(o)&&(c=s),c&&c.set?c.set(o,k,a):o.setAttribute(a,""+k)}},removeAttr:function(c,a){var a=a.toLowerCase(),a=e[a]||a,f=b.query(c),g,j,t;for(t=f.length-
1;0<=t;t--)if(j=f[t],j.nodeType===l.ELEMENT_NODE&&(j.removeAttribute(a),d.test(a)&&(g=k[a]||a)in j))j[g]=!1},hasAttr:g&&!g.hasAttribute?function(c,a){var a=a.toLowerCase(),e=b.query(c),f,k;for(f=0;f<e.length;f++)if(k=e[f],(k=k.getAttributeNode(a))&&k.specified)return!0;return!1}:function(c,a){var e=b.query(c),f,k=e.length;for(f=0;f<k;f++)if(e[f].hasAttribute(a))return!0;return!1},val:function(a,e){var f,k,d,g,p;if(void 0===e){if(d=b.get(a)){if((f=w[j(d)]||w[d.type])&&"get"in f&&void 0!==(k=f.get(d,
"value")))return k;k=d.value;return"string"===typeof k?k.replace(c,""):null==k?"":k}}else{k=b.query(a);for(g=k.length-1;0<=g;g--){d=k[g];if(1!==d.nodeType)break;p=e;null==p?p="":"number"===typeof p?p+="":h.isArray(p)&&(p=h.map(p,n));f=w[j(d)]||w[d.type];if(!(f&&"set"in f)||void 0===f.set(d,p,"value"))d.value=p}}},text:function(c,a){var e,f,k,d;if(void 0===a)return e=b.get(c),b._getText(e);f=b.query(c);for(k=f.length-1;0<=k;k--)if(e=f[k],d=e.nodeType,d===l.ELEMENT_NODE)b.cleanData(e.getElementsByTagName("*")),
"textContent"in e?e.textContent=a:e.innerText=a;else if(d===l.TEXT_NODE||d===l.CDATA_SECTION_NODE)e.nodeValue=a},_getText:function(c){return c.textContent}});return b});
KISSY.add("dom/base/class",["./api"],function(h,m){function n(a){for(var a=h.trim(a||""),a=a.split(d),b=[],f,c=a.length,e=0;e<c;e++)(f=a[e])&&b.push(f);return b}function q(a){return function(b,f){var c,e,d,g=b.classList,k=l.call(arguments,2);c=0;for(e=f.length;c<e;c++)(d=f[c])&&g[a].apply(g,[d].concat(k))}}function b(a){return function(b,f){var c=n(f),e=l.call(arguments,2);g.query(b).each(function(b){b.nodeType===j.ELEMENT_NODE&&g[a].apply(g,[b,c].concat(e))})}}var g=m("./api"),l=[].slice,j=g.NodeType,
d=/[\.\s]\s*\.?/;h.mix(g,{_hasClass:function(a,b){var f,c,e,d=a.classList;if(d.length){f=0;for(c=b.length;f<c;f++)if((e=b[f])&&!d.contains(e))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(a,b){var f=!1,b=n(b);g.query(a).each(function(c){if(c.nodeType===j.ELEMENT_NODE&&g._hasClass(c,b))return f=!0,!1});return f},replaceClass:function(a,b,f){g.removeClass(a,b);g.addClass(a,f)},addClass:b("_addClass"),removeClass:b("_removeClass"),
toggleClass:b("_toggleClass")});return g});
KISSY.add("dom/base/create",["./api"],function(h,m){function n(p){p=p&&p!==a?p.createElement(c):e;p===e&&(p.innerHTML="");return p}function q(c,a){var b=n(a);b.innerHTML="m<div>"+c+"</div>";return b.lastChild}function b(c,a){if(a)if(o&&a.canHaveChildren&&"removeNode"in c){if(c.firstChild)a:{try{c.innerHTML="";break a}catch(e){}for(var f;f=c.lastChild;)b(f,c)}c.removeNode(!1)}else a.removeChild(c)}function g(c,a,b){var e=a.nodeType;if(e===i.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;b=b.childNodes;for(e=
0;a[e];)b[e]&&g(c,a[e],b[e]),e++}else if(e===i.ELEMENT_NODE){a=a.getElementsByTagName("*");b=b.getElementsByTagName("*");for(e=0;a[e];)b[e]&&c(a[e],b[e]),e++}}function l(c,a){var b=h.require("event/dom"),e,f;if(a.nodeType!==i.ELEMENT_NODE||d.hasData(c)){e=d.data(c);for(f in e)d.data(a,f,e[f]);b&&b.clone(c,a)}}function j(c){var a=null,b,e;if(c&&(c.push||c.item)&&c[0]){a=c[0].ownerDocument;a=a.createDocumentFragment();c=h.makeArray(c);b=0;for(e=c.length;b<e;b++)a.appendChild(c[b])}return a}var d=m("./api"),
a=h.Env.host.document,i=d.NodeType,f=h.UA.ieMode,c="div",e=a&&a.createElement(c),t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,k=/^\s+/,x=/\s+$/,o=!!(f&&9>f),s=o,w=/<|&#?\w+;/,D=a&&"outerHTML"in a.documentElement,G=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;h.mix(d,{create:function(b,e,f,g){var o=null;if(!b)return o;if(b.nodeType)return d.clone(b);if("string"!==typeof b)return o;void 0===g&&(g=!0);g&&(b=h.trim(b));var g=d._creators,l,u,f=f||a,y,J=c;if(w.test(b))if(y=
G.exec(b))o=f.createElement(y[1]);else{b=b.replace(t,"<$1></$2>");if((y=v.exec(b))&&(l=y[1]))J=l.toLowerCase();l=(g[J]||q)(b,f);s&&(u=b.match(k))&&l.insertBefore(f.createTextNode(u[0]),l.firstChild);s&&/\S/.test(b)&&(u=b.match(x))&&l.appendChild(f.createTextNode(u[0]));b=l.childNodes;1===b.length?o=b[0].parentNode.removeChild(b[0]):b.length&&(o=j(b))}else o=f.createTextNode(b);h.isPlainObject(e)&&(o.nodeType===i.ELEMENT_NODE?d.attr(o,e,!0):o.nodeType===i.DOCUMENT_FRAGMENT_NODE&&d.attr(o.childNodes,
e,!0));return o},_fixCloneAttributes:function(c,a){var b=c.nodeName.toLowerCase(),e=(c.type||"").toLowerCase();if("textarea"===b)a.defaultValue=c.defaultValue,a.value=c.value;else if("input"===b&&("checkbox"===e||"radio"===e)){if(b=c.checked)a.defaultChecked=a.checked=b;b=c.value;a.value!==b&&(a.value=b)}},_creators:{div:q},_defaultCreator:q,html:function(c,a,b){var c=d.query(c),e=c[0],f=!1,g,u;if(!e)return null;if(void 0===a)return e.nodeType===i.ELEMENT_NODE?e.innerHTML:e.nodeType===i.DOCUMENT_FRAGMENT_NODE?
(b=n(e.ownerDocument),b.appendChild(e),b.innerHTML):null;a+="";if(!a.match(/<(?:script|style|link)/i)&&(!s||!a.match(k))&&!A[(a.match(v)||["",""])[1].toLowerCase()])try{for(g=c.length-1;0<=g;g--)u=c[g],u.nodeType===i.ELEMENT_NODE&&(d.cleanData(u.getElementsByTagName("*")),u.innerHTML=a);f=!0}catch(y){}f||(a=d.create(a,0,e.ownerDocument,0),d.empty(c),d.append(a,c,b))},outerHtml:function(c,a,b){var c=d.query(c),e=c.length,f=c[0];if(!f)return null;if(void 0===a){if(D&&f.nodeType!==d.DOCUMENT_FRAGMENT_NODE)return f.outerHTML;
a=n(f.ownerDocument);a.appendChild(d.clone(f,!0));return a.innerHTML}a+="";if(!a.match(/<(?:script|style|link)/i)&&D)for(b=e-1;0<=b;b--)f=c[b],f.nodeType===i.ELEMENT_NODE&&(d.cleanData(f,1),f.outerHTML=a);else a=d.create(a,0,f.ownerDocument,0),d.insertBefore(a,c,b),d.remove(c)},remove:function(a,c){var e,f=d.query(a),k,g=h.require("event/dom"),u;for(u=f.length-1;0<=u;u--)e=f[u],!c&&e.nodeType===i.ELEMENT_NODE&&(k=h.makeArray(e.getElementsByTagName("*")),k.push(e),d.removeData(k),g&&g.detach(k)),b(e,
e.parentNode)},clone:function(a,c,b,e){"object"===typeof c&&(e=c.deepWithDataAndEvent,b=c.withDataAndEvent,c=c.deep);var a=d.get(a),f,k=d._fixCloneAttributes,u;if(!a)return null;u=a.nodeType;f=a.cloneNode(c);if(u===i.ELEMENT_NODE||u===i.DOCUMENT_FRAGMENT_NODE)k&&u===i.ELEMENT_NODE&&k(a,f),c&&k&&g(k,a,f);b&&(l(a,f),c&&e&&g(l,a,f));return f},empty:function(a){var a=d.query(a),c,b;for(b=a.length-1;0<=b;b--)c=a[b],d.remove(c.childNodes)},_nodeListToFragment:j});d.outerHTML=d.outerHtml;var B=d._creators,
E=d.create,A={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},z;for(z in A)(function(a){B[z]=function(c,b){return E("<"+a+">"+c+"</"+a+">",void 0,b)}})(A[z]);B.option=B.optgroup=function(a,c){return E('<select multiple="multiple">'+a+"</select>",void 0,c)};return d});
KISSY.add("dom/base/data",["./api"],function(h,m){var n=m("./api"),q=h.Env.host,b="_ks_data_"+h.now(),g={},l={},j={applet:1,object:1,embed:1},d={hasData:function(a,c){if(a)if(void 0!==c){if(c in a)return!0}else if(!h.isEmptyObject(a))return!0;return!1}},a={hasData:function(f,c){return f==q?a.hasData(l,c):d.hasData(f[b],c)},data:function(f,c,e){if(f==q)return a.data(l,c,e);var d=f[b];if(void 0!==e)d=f[b]=f[b]||{},d[c]=e;else return void 0!==c?d&&d[c]:d=f[b]=f[b]||{}},removeData:function(f,c){if(f==
q)return a.removeData(l,c);var e=f[b];if(void 0!==c)delete e[c],h.isEmptyObject(e)&&a.removeData(f);else try{delete f[b]}catch(d){f[b]=void 0}}},i={hasData:function(a,c){var e=a[b];return!e?!1:d.hasData(g[e],c)},data:function(a,c,e){if(!j[a.nodeName.toLowerCase()]){var d=a[b];if(!d){if(void 0!==c&&void 0===e)return;d=a[b]=h.guid()}a=g[d];if(void 0!==e)a=g[d]=g[d]||{},a[c]=e;else return void 0!==c?a&&a[c]:a=g[d]=g[d]||{}}},removeData:function(a,c){var e=a[b],d;if(e)if(d=g[e],void 0!==c)delete d[c],
h.isEmptyObject(d)&&i.removeData(a);else{delete g[e];try{delete a[b]}catch(j){a[b]=void 0}a.removeAttribute&&a.removeAttribute(b)}}};h.mix(n,{__EXPANDO:b,hasData:function(b,c){for(var e=!1,d=n.query(b),g=0;g<d.length&&!(e=d[g],e=e.nodeType?i.hasData(e,c):a.hasData(e,c));g++);return e},data:function(b,c,e){var b=n.query(b),d=b[0];if(h.isPlainObject(c))for(var g in c)n.data(b,g,c[g]);else if(void 0===e){if(d)return d.nodeType?i.data(d,c):a.data(d,c)}else for(g=b.length-1;0<=g;g--)d=b[g],d.nodeType?
i.data(d,c,e):a.data(d,c,e)},removeData:function(b,c){var e=n.query(b),d,g;for(g=e.length-1;0<=g;g--)d=e[g],d.nodeType?i.removeData(d,c):a.removeData(d,c)},cleanData:function(b,c){var e=n.query(b),d,g,k=h.require("event/dom");for(g=e.length-1;0<=g;g--)if(d=e[g],d.nodeType){var j=c&&h.makeArray(d.getElementsByTagName("*"))||[];j.push(d);d=0;for(var o=j.length;d<o;d++)i.removeData(j[d]);k&&k.detach(j)}else a.removeData(d)}});return n});
KISSY.add("dom/base/insertion",["./api"],function(h,m){function n(c,b){var g=[],h,k,x;for(h=0;c[h];h++)if(k=c[h],x=d(k),k.nodeType===l.DOCUMENT_FRAGMENT_NODE)g.push.apply(g,n(a(k.childNodes),b));else if("script"===x&&(!k.type||f.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),b&&b.push(k);else{if(k.nodeType===l.ELEMENT_NODE&&!j.test(x)){x=[];var o,s,w=k.getElementsByTagName("script");for(s=0;s<w.length;s++)o=w[s],(!o.type||f.test(o.type))&&x.push(o);i.apply(c,[h+1,0].concat(x))}g.push(k)}return g}
function q(a){a.src?h.getScript(a.src):(a=h.trim(a.text||a.textContent||a.innerHTML||""))&&h.globalEval(a)}function b(a,b,d,f){a=g.query(a);f&&(f=[]);a=n(a,f);g._fixInsertionChecked&&g._fixInsertionChecked(a);var b=g.query(b),k,j,o,l,i=b.length;if((a.length||f&&f.length)&&i){a=g._nodeListToFragment(a);1<i&&(l=g.clone(a,!0),b=h.makeArray(b));for(k=0;k<i;k++)j=b[k],a&&(o=0<k?g.clone(l,!0):a,d(o,j)),f&&f.length&&h.each(f,q)}}var g=m("./api"),l=g.NodeType,j=/^(?:button|input|object|select|textarea)$/i,
d=g.nodeName,a=h.makeArray,i=[].splice,f=/\/(java|ecma)script/i;h.mix(g,{_fixInsertionChecked:null,insertBefore:function(a,e,d){b(a,e,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,e,d){b(a,e,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,e,d){b(a,e,function(a,b){b.appendChild(a)},d)},prependTo:function(a,e,d){b(a,e,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,b){b=g.clone(g.get(b),!0);
a=g.query(a);a[0].parentNode&&g.insertBefore(b,a[0]);for(var d;(d=b.firstChild)&&1===d.nodeType;)b=d;g.appendTo(a,b)},wrap:function(a,b){a=g.query(a);b=g.get(b);h.each(a,function(a){g.wrapAll(a,b)})},wrapInner:function(a,b){a=g.query(a);b=g.get(b);h.each(a,function(a){var c=a.childNodes;c.length?g.wrapAll(c,b):a.appendChild(b)})},unwrap:function(a){a=g.query(a);h.each(a,function(a){a=a.parentNode;g.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var d=g.query(a),b=g.query(b);g.remove(b,!0);
g.insertBefore(b,d);g.remove(d)}});h.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){g[b]=g[a]});return g});
KISSY.add("dom/base/offset",["./api"],function(h,m){function n(b){var d,f=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};d=b.getBoundingClientRect();b=d[c];d=d[e];b-=a.clientLeft||f.clientLeft||0;d-=a.clientTop||f.clientTop||0;return{left:b,top:d}}function q(a,c){var d={left:0,top:0},e=i(a),f,g=a,c=c||e;do{if(e==c){var j=g;f=n(j);j=i(j);f.left+=b[t](j);f.top+=b[v](j)}else f=n(g);d.left+=f.left;d.top+=f.top}while(e&&e!=c&&(g=e.frameElement)&&(e=e.parent));return d}var b=m("./api"),
g=h.Env.host,l=h.UA,j=g.document,d=b.NodeType,a=j&&j.documentElement,i=b.getWindow,f=Math.max,c="left",e="top",t="scrollLeft",v="scrollTop";h.mix(b,{offset:function(a,c,d){if(void 0===c){var a=b.get(a),e;a&&(e=q(a,d));return e}d=b.query(a);for(e=d.length-1;0<=e;e--){var a=d[e],f=c;"static"===b.css(a,"position")&&(a.style.position="relative");var g=q(a),j={},h=void 0,i=void 0;for(i in f)h=parseFloat(b.css(a,i))||0,j[i]=h+f[i]-g[i];b.css(a,j)}},scrollIntoView:function(a,f,g,j){var l,n,m,q;if(m=b.get(a)){f&&
(f=b.get(f));f||(f=m.ownerDocument);f.nodeType===d.DOCUMENT_NODE&&(f=i(f));h.isPlainObject(g)&&(j=g.allowHorizontalScroll,q=g.onlyScrollIfNeeded,g=g.alignWithTop);j=void 0===j?!0:j;n=h.isWindow(f);var a=b.offset(m),t=b.outerHeight(m);l=b.outerWidth(m);var v,z,p,r;n?(n=f,v=b.height(n),z=b.width(n),r={left:b.scrollLeft(n),top:b.scrollTop(n)},n=a[c]-r[c],m=a[e]-r[e],l=a[c]+l-(r[c]+z),a=a[e]+t-(r[e]+v)):(v=b.offset(f),z=f.clientHeight,p=f.clientWidth,r={left:b.scrollLeft(f),top:b.scrollTop(f)},n=a[c]-
(v[c]+(parseFloat(b.css(f,"borderLeftWidth"))||0)),m=a[e]-(v[e]+(parseFloat(b.css(f,"borderTopWidth"))||0)),l=a[c]+l-(v[c]+p+(parseFloat(b.css(f,"borderRightWidth"))||0)),a=a[e]+t-(v[e]+z+(parseFloat(b.css(f,"borderBottomWidth"))||0)));if(q){if(0>m||0<a)!0===g?b.scrollTop(f,r.top+m):!1===g?b.scrollTop(f,r.top+a):0>m?b.scrollTop(f,r.top+m):b.scrollTop(f,r.top+a)}else(g=void 0===g?!0:!!g)?b.scrollTop(f,r.top+m):b.scrollTop(f,r.top+a);if(j)if(q){if(0>n||0<l)!0===g?b.scrollLeft(f,r.left+n):!1===g?b.scrollLeft(f,
r.left+l):0>n?b.scrollLeft(f,r.left+n):b.scrollLeft(f,r.left+l)}else void 0===g||g?b.scrollLeft(f,r.left+n):b.scrollLeft(f,r.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});h.each(["Left","Top"],function(a,c){var f="scroll"+a;b[f]=function(e,j){if("number"===typeof e)return arguments.callee(g,e);var e=b.get(e),h,l,n,m;e&&e.nodeType===d.ELEMENT_NODE?void 0!==j?e[f]=parseFloat(j):h=e[f]:(m=i(e),void 0!==j?(j=parseFloat(j),l="Left"===a?j:b.scrollLeft(m),n=
"Top"===a?j:b.scrollTop(m),m.scrollTo(l,n)):(h=m["page"+(c?"Y":"X")+"Offset"],"number"!==typeof h&&(l=m.document,h=l.documentElement[f],"number"!==typeof h&&(h=l.body[f]))));return h}});h.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=b.getDocument(c);return f(c.documentElement["scroll"+a],c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){var c=b.get(c),f=i(c),c=f["inner"+a];if(l.mobile&&c)return c;var c="client"+a,f=f.document,d=f.body,e=f.documentElement[c];
return"CSS1Compat"===f.compatMode&&e||d&&d[c]||e}});return b});
KISSY.add("dom/base/style",["./api"],function(h,m){function n(a){if(p[a])return p[a];var b=f(a);return b&&b.propertyName||a}function q(a,b,c){var f={},d=a.style,e;for(e in b)f[e]=d[e],d[e]=b[e];c.call(a);for(e in b)d[e]=f[e]}function b(a,b,c){var f,d,e;if(!(3===a.nodeType||8===a.nodeType||!(f=a.style)))if(b=I(b),e=z[b],b=n(b),void 0!==c){null===c||c===B?c=B:!isNaN(Number(c))&&!G[b]&&(c+=E);e&&e.set&&(c=e.set(a,c));if(void 0!==c){try{f[b]=c}catch(g){}c===B&&f.removeAttribute&&f.removeAttribute(b)}f.cssText||
a.removeAttribute("style")}else{if(!e||!("get"in e&&void 0!==(d=e.get(a,!1))))d=f[b];return void 0===d?"":d}}function g(a){var b,c=arguments;0!==a.offsetWidth?b=d.apply(void 0,c):q(a,L,function(){b=d.apply(void 0,c)});return b}function l(b,c,f,d){var e=0,g,j,h;for(j=0;j<c.length;j++)if(g=c[j])for(h=0;h<f.length;h++)e+=parseFloat(a._getComputedStyle(b,"border"===g?g+f[h]+"Width":g+f[h],d))||0;return e}function j(a){var b=a.ownerDocument,c;b.defaultView&&(c=b.defaultView.getComputedStyle(a,null));return c}
function d(b,c,f){if(h.isWindow(b))return c===w?a.viewportWidth(b):a.viewportHeight(b);if(9===b.nodeType)return c===w?a.docWidth(b):a.docHeight(b);var d=c===w?["Left","Right"]:["Top","Bottom"],g=c===w?b.offsetWidth:b.offsetHeight,p=j(b),i="border-box"===a._getComputedStyle(b,"boxSizing",p),r=0;if(null==g||0>=g){g=void 0;r=a._getComputedStyle(b,c,p);if(null==r||0>Number(r))r=b.style[c]||0;r=parseFloat(r)||0}void 0===f&&(f=i?k:t);c=void 0!==g||i;g=g||r;return f===t?c?g-l(b,["border","padding"],d,p):
r:c?g+(f===k?0:f===v?-l(b,["border"],d,p):l(b,["margin"],d,p)):r+l(b,e.slice(f),d,p)}var a=m("./api"),i=h.Env.host,f=h.Feature.getCssVendorInfo,c=h.UA,e=["margin","border","padding"],t=-1,v=2,k=1,x=a.nodeName,o=i.document||{},s=/^margin/,w="width",D="display"+h.now(),G={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},B="",E="px",A=/\d(?!px)[a-z%]+$/i,z={},p={},r,H={},I=h.camelCase;p["float"]="cssFloat";h.mix(a,{_cssHooks:z,_cssProps:p,_getComputedStyle:function(b,
c,f){var d="",e,g;e=b.ownerDocument;c=n(c);if(f=f||e.defaultView.getComputedStyle(b,null))d=f.getPropertyValue(c)||f[c];""===d&&!a.contains(e,b)&&(d=b.style[c]);a._RE_NUM_NO_PX.test(d)&&s.test(c)&&(g=b.style,b=g.width,c=g.minWidth,e=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=f.width,g.width=b,g.minWidth=c,g.maxWidth=e);return d},style:function(c,f,d){var c=a.query(c),e,g=c[0];if(h.isPlainObject(f))for(e in f)for(g=c.length-1;0<=g;g--)b(c[g],e,f[e]);else{if(void 0===d)return e="",g&&(e=b(g,f,d)),
e;for(g=c.length-1;0<=g;g--)b(c[g],f,d)}},css:function(c,f,d){var c=a.query(c),e=c[0],g;if(h.isPlainObject(f))for(g in f)for(e=c.length-1;0<=e;e--)b(c[e],g,f[g]);else{f=I(f);g=z[f];if(void 0===d){d="";if(e&&(!g||!("get"in g&&void 0!==(d=g.get(e,!0)))))d=a._getComputedStyle(e,f);return"undefined"===typeof d?"":d}for(e=c.length-1;0<=e;e--)b(c[e],f,d)}},show:function(b){var b=a.query(b),c,f,d;for(d=b.length-1;0<=d;d--)if(f=b[d],f.style.display=a.data(f,D)||B,"none"===a.css(f,"display")){c=f.tagName.toLowerCase();
var e=void 0,g=H[c],j=void 0;H[c]||(e=o.body||o.documentElement,j=o.createElement(c),a.prepend(j,e),g=a.css(j,"display"),e.removeChild(j),H[c]=g);c=g;a.data(f,D,c);f.style.display=c}},hide:function(b){var b=a.query(b),c,f;for(f=b.length-1;0<=f;f--){c=b[f];var d=c.style,e=d.display;"none"!==e&&(e&&a.data(c,D,e),d.display="none")}},toggle:function(b){var b=a.query(b),c,f;for(f=b.length-1;0<=f;f--)c=b[f],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,f){"string"===typeof b&&
(f=c,c=b,b=i);var b=a.getDocument(b),d;if(f&&(f=f.replace("#",B)))d=a.get("#"+f,b);d||(d=a.create("<style>",{id:f},b),a.get("head",b).appendChild(d),d.styleSheet?d.styleSheet.cssText=c:d.appendChild(b.createTextNode(c)))},unselectable:function(b){var b=a.query(b),d,e,g=0,j,p;void 0===r&&(r=f("userSelect").propertyName);for(e=b.length-1;0<=e;e--)if(d=b[e],p=d.style,r in p)p[r]="none";else if(c.ie){p=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(j=["iframe","textarea","input",
"select"];d=p[g++];)h.inArray(x(d),j)||d.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});h.each([w,"height"],function(b){a["inner"+h.ucfirst(b)]=function(c){return(c=a.get(c))&&g(c,b,v)};a["outer"+h.ucfirst(b)]=function(c,f){var d=a.get(c);return d&&g(d,b,f?0:k)};var c=b===w?["Left","Right"]:["Top","Bottom"];a[b]=function(f,d){var e=a.get(f);if(void 0!==d){if(e){var h=j(e);"border-box"===a._getComputedStyle(e,"boxSizing",h)&&(d+=l(e,["padding",
"border"],c,h));return a.css(e,b,d)}}else return e&&g(e,b,t)};z[b]={get:function(a,c){var f;c&&(f=g(a,b)+"px");return f}}});var L={position:"absolute",visibility:"hidden",display:"block"};h.each(["left","top"],function(b){z[b]={get:function(c,f){var d,e,g;if(f){g=a.css(c,"position");if("static"===g)return"auto";d=a._getComputedStyle(c,b);if((e="auto"===d)&&"relative"===g)return"0px";if(e||A.test(d)){g={top:0,left:0};if("fixed"===a.css(c,"position"))e=c.getBoundingClientRect();else{for(d=c.offsetParent||
(c.ownerDocument||o).body;d&&!M.test(d.nodeName)&&"static"===a.css(d,"position");)d=d.offsetParent;e=a.offset(c);g=a.offset(d);g.top+=parseFloat(a.css(d,"borderTopWidth"))||0;g.left+=parseFloat(a.css(d,"borderLeftWidth"))||0}e.top-=parseFloat(a.css(c,"marginTop"))||0;e.left-=parseFloat(a.css(c,"marginLeft"))||0;d={top:e.top-g.top,left:e.left-g.left}[b]+"px"}}return d}}});var M=/^(?:body|html)$/i;return a});
KISSY.add("dom/base/selector",["./api"],function(h,m){function n(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function q(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function b(a){return function(b){var d=f._getElementById(a,c);return d&&f._contains(b,d)?[d]:[]}}function g(a){return function(b){return b.getElementsByClassName(a)}}function l(a){return function(b){return b.getElementsByTagName(a)}}function j(a,d){var e,i,m="string"===
typeof a,t=void 0!==d?j(d):(i=1)&&[c],u=t.length;if(a)if(m){a=z(a);if(i)if("body"===a)e=[c.body];else if(D.test(a)&&v)e=x(c.getElementsByClassName(RegExp.$1));else if(E.test(a))e=(i=f._getElementById(RegExp.$2,c))&&i.nodeName.toLowerCase()===RegExp.$1?[i]:[];else if(G.test(a))e=(i=f._getElementById(a.substr(1),c))?[i]:[];else if(B.test(a))e=x(c.getElementsByTagName(a));else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&v){e=a.split(/\s+/);var y=t,s,A;i=0;for(m=
e.length;i<m;i++){s=e;A=i;var C;C=e[i];var F=C.charAt(0);C="#"===F?b(q(C)):"."===F?g(q(C)):l(C);s[A]=C}i=0;for(m=e.length;i<m;i++){C=e[i];var F=[],K;s=0;for(A=y.length;s<A;s++)K=C(y[s]),F.push.apply(F,x(K));y=F;if(!y.length)break}e=y&&1<y.length?f.unique(y):y}if(!e){e=[];for(i=0;i<u;i++)w.apply(e,f._selectInternal(a,t[i]));1<e.length&&1<u&&f.unique(e)}}else{if(e=a.nodeType||h.isWindow(a)?[a]:a.getDOMNodes?a.getDOMNodes():k(a)?a:o(a)?x(a):[a],!i){m=e;s=m.length;e=[];for(i=0;i<s;i++)for(y=0;y<u;y++)if(f._contains(t[y],
m[i])){e.push(m[i]);break}}}else e=[];e.each=n;return e}function d(b,c){var d=b&&a(b,"class");return d&&(d=d.replace(/[\r\t\n]/g,s))&&-1<(s+d+s).indexOf(s+c+s)}function a(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function i(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var f=m("./api"),c=h.Env.host.document,e=c.documentElement,t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector,v="getElementsByClassName"in
c,k=h.isArray,x=h.makeArray,o=f.isDomNodeList,s=" ",w=Array.prototype.push,D=/^\.([\w-]+)$/,G=/^#([\w-]+)$/,B=/^([\w-])+$/,E=/^([\w-]+)#([\w-]+)$/,A=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,z=h.trim;h.mix(f,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return x(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:a,_isTag:i,_hasSingleClass:d,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],t.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return x(b.querySelectorAll(a))},query:j,get:function(a,b){return j(a,b)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):f._compareNodeOrder(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);if(b)for(var e=1,f=d.length;e<f;)d[e]===d[e-1]?(d.splice(e,1),--f):e++;return d}}(),
filter:function(b,c,e){var b=j(b,e),g,k,l,m,e=[];if("string"===typeof c&&(c=z(c))&&(l=A.exec(c)))g=l[1],k=l[2],m=l[3],g?g&&!k&&!m&&(c=function(b){return a(b,"id")===g}):c=function(a){var b=!0,c=!0;k&&(b=i(a,k));m&&(c=d(a,m));return c&&b};return e="function"===typeof c?h.filter(b,c):f._matchesInternal(c,b)},test:function(a,b,c){a=j(a,c);return a.length&&f.filter(a,b,c).length===a.length}});return f});
KISSY.add("dom/base/traversal",["./api"],function(h,m){function n(b,d,a,i,f,c,e){if(!(b=g.get(b)))return null;if(0===d)return b;c||(b=b[a]);if(!b)return null;f=f&&g.get(f)||null;void 0===d&&(d=1);var c=[],m=h.isArray(d),n,k;"number"===typeof d&&(n=0,k=d,d=function(){return++n===k});for(;b&&b!==f;){if((b.nodeType===l.ELEMENT_NODE||b.nodeType===l.TEXT_NODE&&e)&&q(b,d)&&(!i||i(b)))if(c.push(b),!m)break;b=b[a]}return m?c:c[0]||null}function q(b,d){if(!d)return!0;if(h.isArray(d)){var a,i=d.length;if(!i)return!0;
for(a=0;a<i;a++)if(g.test(b,d[a]))return!0}else if(g.test(b,d))return!0;return!1}function b(b,d,a,i){var f=[],c,e;if((c=b=g.get(b))&&a)c=b.parentNode;if(c){a=h.makeArray(c.childNodes);for(c=0;c<a.length;c++)e=a[c],(i||e.nodeType===l.ELEMENT_NODE)&&e!==b&&f.push(e);d&&(f=g.filter(f,d))}return f}var g=m("./api"),l=g.NodeType;h.mix(g,{_contains:function(b,d){return!!(b.compareDocumentPosition(d)&16)},closest:function(b,d,a,g){return n(b,d,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},
a,!0,g)},parent:function(b,d,a){return n(b,d,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},a,void 0)},first:function(b,d,a){b=g.get(b);return n(b&&b.firstChild,d,"nextSibling",void 0,void 0,!0,a)},last:function(b,d,a){b=g.get(b);return n(b&&b.lastChild,d,"previousSibling",void 0,void 0,!0,a)},next:function(b,d,a){return n(b,d,"nextSibling",void 0,void 0,void 0,a)},prev:function(b,d,a){return n(b,d,"previousSibling",void 0,void 0,void 0,a)},siblings:function(g,d,a){return b(g,
d,!0,a)},children:function(g,d){return b(g,d,void 0)},contents:function(g,d){return b(g,d,void 0,1)},contains:function(b,d){b=g.get(b);d=g.get(d);return b&&d?g._contains(b,d):!1},index:function(b,d){var a=g.query(b),i,f=0;i=a[0];if(!d){a=i&&i.parentNode;if(!a)return-1;for(;i=i.previousSibling;)i.nodeType===l.ELEMENT_NODE&&f++;return f}f=g.query(d);return"string"===typeof d?h.indexOf(i,f):h.indexOf(f[0],a)},equals:function(b,d){b=g.query(b);d=g.query(d);if(b.length!==d.length)return!1;for(var a=b.length;0<=
a;a--)if(b[a]!==d[a])return!1;return!0}});return g});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(h,m){var n=m("./base/api");m("./base/attr");m("./base/class");m("./base/create");m("./base/data");m("./base/insertion");m("./base/offset");m("./base/style");m("./base/selector");m("./base/traversal");h.mix(h,{DOM:n,get:n.get,query:n.query});return n});
