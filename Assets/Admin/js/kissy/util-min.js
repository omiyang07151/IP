/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 14 15:44
*/
KISSY.add("util/array",[],function(b,g){var h=Array.prototype,k=h.indexOf,d=h.lastIndexOf,a=h.filter,i=h.every,f=h.some,j=h.map;b.mix(b,{indexOf:k?function(e,a,c){return c===g?k.call(a,e):k.call(a,e,c)}:function(e,a,c){for(var c=c||0,b=a.length;c<b;++c)if(a[c]===e)return c;return-1},lastIndexOf:d?function(e,a,c){return c===g?d.call(a,e):d.call(a,e,c)}:function(e,a,c){for(c===g&&(c=a.length-1);0<=c&&a[c]!==e;c--);return c},unique:function(e,a){var c=e.slice();a&&c.reverse();for(var m=0,f,d;m<c.length;){for(d=
c[m];(f=b.lastIndexOf(d,c))!==m;)c.splice(f,1);m+=1}a&&c.reverse();return c},inArray:function(e,a){return-1<b.indexOf(e,a)},filter:a?function(e,b,c){return a.call(e,b,c||this)}:function(e,a,c){var f=[];b.each(e,function(e,b,d){a.call(c||this,e,b,d)&&f.push(e)});return f},map:j?function(e,a,c){return j.call(e,a,c||this)}:function(e,a,c){for(var b=e.length,f=Array(b),d=0;d<b;d++){var i="string"===typeof e?e.charAt(d):e[d];if(i||d in e)f[d]=a.call(c||this,i,d,e)}return f},reduce:function(e,a,c){var b=
e.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===b&&2===arguments.length)throw new TypeError("arguments invalid");var f=0,d;if(3<=arguments.length)d=c;else{do{if(f in e){d=e[f++];break}f+=1;if(f>=b)throw new TypeError;}while(1)}for(;f<b;)f in e&&(d=a.call(g,d,e[f],f,e)),f++;return d},every:i?function(e,a,c){return i.call(e,a,c||this)}:function(e,a,c){for(var b=e&&e.length||0,f=0;f<b;f++)if(f in e&&!a.call(c,e[f],f,e))return!1;return!0},some:f?function(e,a,
c){return f.call(e,a,c||this)}:function(e,a,c){for(var b=e&&e.length||0,f=0;f<b;f++)if(f in e&&a.call(c,e[f],f,e))return!0;return!1},makeArray:function(a){if(null==a)return[];if(b.isArray(a))return a;var f=typeof a.length,c=typeof a;if("number"!==f||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===c||"function"===c&&!("item"in a&&"number"===f))return[a];for(var f=[],c=0,d=a.length;c<d;c++)f[c]=a[c];return f}})});
KISSY.add("util/escape",[],function(b){var g={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},h={},k,d,a=/[&<>"'`]/,i=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in g)h[g[a]]=a})();k=function(){var a="";b.each(g,function(b){a+=b+"|"});a=a.slice(0,-1);return k=RegExp(a,"g")}();d=function(){var a="";b.each(h,function(b){a+=b+"|"});a+="&#(\\d{1,5});";return d=RegExp(a,"g")}();b.mix(b,{escapeHtml:function(b){if(!b&&0!==b)return"";b=""+b;return!a.test(b)?
b:(b+"").replace(k,function(a){return h[a]})},escapeRegExp:function(a){return a.replace(i,"\\$&")},unEscapeHtml:function(a){return a.replace(d,function(a,e){return g[a]||String.fromCharCode(+e)})}});b.escapeHTML=b.escapeHtml;b.unEscapeHTML=b.unEscapeHtml});
KISSY.add("util/function",[],function(b){function g(b,k,d){function a(){}var i=[].slice,f=i.call(arguments,3),g=function(){var e=i.call(arguments);return k.apply(this instanceof a?this:d||this,b?e.concat(f):f.concat(e))};a.prototype=k.prototype;g.prototype=new a;return g}b.mix(b,{noop:function(){},bind:g(0,g,null,0),rbind:g(0,g,null,1),later:function(h,g,d,a,i){var g=g||0,f=h,j=b.makeArray(i),e;"string"===typeof h&&(f=a[h]);h=function(){f.apply(a,j)};e=d?setInterval(h,g):setTimeout(h,g);return{id:e,
interval:d,cancel:function(){this.interval?clearInterval(e):clearTimeout(e)}}},throttle:function(g,k,d){k=k||150;if(-1===k)return function(){g.apply(d||this,arguments)};var a=b.now();return function(){var i=b.now();i-a>k&&(a=i,g.apply(d||this,arguments))}},buffer:function(g,k,d){function a(){a.stop();i=b.later(g,k,0,d||this,arguments)}k=k||150;if(-1===k)return function(){g.apply(d||this,arguments)};var i=null;a.stop=function(){i&&(i.cancel(),i=0)};return a}})});
KISSY.add("util/object",[],function(b,g){function h(){}function k(e,d,c,i,h,j){if(!d||!e)return e;var q,l,o,u;d[a]=e;j.push(d);o=b.keys(d);u=o.length;for(q=0;q<u;q++)if(l=o[q],l!==a){var p=e,r=d,w=c,x=i,y=h,A=j;if(w||!(l in p)||y){var s=p[l],n=r[l];if(s===n)s===g&&(p[l]=s);else if(x&&(n=x.call(r,l,n)),y&&n&&(b.isArray(n)||b.isPlainObject(n)))n[a]?p[l]=n[a]:(r=s&&(b.isArray(s)||b.isPlainObject(s))?s:b.isArray(n)?[]:{},p[l]=r,k(r,n,w,x,f,A));else if(n!==g&&(w||!(l in p)))p[l]=n}}return e}function d(a,
b){return"constructor"===a?g:b}var a="__MIX_CIRCULAR",i=b.Env.host,f=!0,j=Object.create;(function(a,b){for(var c in b)a[c]=b[c]})(b,{stamp:function(a,d,c){var c=c||"__~ks_stamped",f=a[c];if(!f&&!d)try{f=a[c]=b.guid(c)}catch(i){f=g}return f},mix:function(e,d,c,i,h){"object"===typeof c&&(i=c.whitelist,h=c.deep,c=c.overwrite);if(i&&"function"!==typeof i)var j=i,i=function(a,e){return b.inArray(a,j)?e:g};c===g&&(c=f);var q=[],l=0;for(k(e,d,c,i,h,q);d=q[l++];)delete d[a];return e},merge:function(a){var a=
b.makeArray(arguments),d={},c,f=a.length;for(c=0;c<f;c++)b.mix(d,a[c]);return d},augment:function(a,f){var c=b.makeArray(arguments),i=c.length-2,h=1,k,j,l=c[i],o=c[i+1];c[1]=f;b.isArray(o)||(l=o,o=g,i++);"boolean"!==typeof l&&(l=g,i++);for(;h<i;h++){j=c[h];if(k=j.prototype)j=b.mix({},k,!0,d);b.mix(a.prototype,j,l,o)}return a},extend:function(a,d,c,f){var i=d.prototype;i.constructor=d;j?d=j(i):(h.prototype=i,d=new h);d.constructor=a;a.prototype=b.mix(d,a.prototype);a.superclass=i;c&&b.mix(d,c);f&&
b.mix(a,f);return a},namespace:function(){var a=b.makeArray(arguments),d=a.length,c=null,g,h,j,k=a[d-1]===f&&d--;for(g=0;g<d;g++){j=(""+a[g]).split(".");c=k?i:this;for(h=i[j[0]]===c?1:0;h<j.length;++h)c=c[j[h]]=c[j[h]]||{}}return c}})});
KISSY.add("util/string",[],function(b,g){function h(a,b){return b.toUpperCase()}var k=/\\?\{([^{}]+)\}/g,d=/-([a-z])/ig;b.mix(b,{camelCase:function(a){return a.replace(d,h)},substitute:function(a,b,d){return"string"!==typeof a||!b?a:a.replace(d||k,function(a,d){return"\\"===a.charAt(0)?a.slice(1):b[d]===g?"":b[d]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",[],function(b,g){var h={},k=Object.prototype,d=k.toString;b.mix(b,{type:function(a){return null==a?""+a:h[d.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==b.type(a)||a.nodeType||a.window==a)return!1;var d,f;try{if((f=a.constructor)&&!k.hasOwnProperty.call(a,"constructor")&&!k.hasOwnProperty.call(f.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(d in a);return d===g||k.hasOwnProperty.call(a,d)}});b.each("Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
function(a,d){h["[object "+a+"]"]=d=a.toLowerCase();b["is"+a]=function(a){return b.type(a)===d}});b.isArray=Array.isArray||b.isArray});
KISSY.add("util/web",[],function(b,g){function h(){if(!j){d&&d.setTimeout&&r(d,o,h);j=1;for(var a=0;a<e.length;a++)try{e[a](b)}catch(c){setTimeout(function(){throw c;},0)}}}function k(){if(!a||a.readyState===u)h();else if(p(d,o,h),v){var b=function(){r(a,q,b);h()};p(a,q,b)}else{var c=function(){a.readyState===u&&(r(a,l,c),h())};p(a,l,c);var e,f=i&&i.doScroll;try{e=null===d.frameElement}catch(g){e=!1}if(f&&e){var j=function(){try{f("left"),h()}catch(a){setTimeout(j,t)}};j()}}}var d=b.Env.host,a=d.document||
{},i=a.documentElement,f=d.location,j=0,e=[],t=40,c=/^#?([\w-]+)$/,m=/\S/,v=a.addEventListener,z=a.attachEvent||v,q="DOMContentLoaded",l="readystatechange",o="load",u="complete",p=v?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},r=v?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};b.mix(b,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{d.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=g}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&m.test(a)&&(d.execScript?d.execScript(a):d.eval.call(d,a))},ready:function(a){if(j)try{a(b)}catch(c){setTimeout(function(){throw c;},0)}else e.push(a);return this},available:function(d,e){var d=(d+"").match(c)[1],f=1,g=b.later(function(){if(500<++f)g.cancel();else{var b=a.getElementById(d);b&&(e(b),g.cancel())}},
t,!0)}});if(f&&-1!==(f.search||"").indexOf("ks-debug"))b.Config.debug=!0;z&&k();try{a.execCommand("BackgroundImageCache",!1,!0)}catch(w){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(b,g){function h(a,g,f){var j=a,e,t,c,m;if(!a)return j;if(a[d])return f[a[d]].destination;if(typeof a==="object"){m=a.constructor;if(b.inArray(m,[Boolean,String,Number,Date,RegExp]))j=new m(a.valueOf());else if(e=b.isArray(a))j=g?b.filter(a,g):a.concat();else if(t=b.isPlainObject(a))j={};a[d]=m=b.guid("c");f[m]={destination:j,input:a}}if(e)for(a=0;a<j.length;a++)j[a]=h(j[a],g,f);else if(t)for(c in a)if(c!==
d&&(!g||g.call(a,a[c],c,a)!==k))j[c]=h(a[c],g,f);return j}var k=false,d="__~ks_cloned";g("util/array");g("util/escape");g("util/function");g("util/object");g("util/string");g("util/type");g("util/web");b.mix(b,{clone:function(a,g){var f={},j=h(a,g,f);b.each(f,function(a){a=a.input;if(a[d])try{delete a[d]}catch(b){a[d]=void 0}});f=null;return j}});return b});
